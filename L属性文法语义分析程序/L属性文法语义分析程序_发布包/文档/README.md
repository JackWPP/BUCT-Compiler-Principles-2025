# L属性文法语义分析程序

## 项目基本信息

- **课程名称**: 编译原理
- **作业题目**: 题目6.2 L属性文法语义分析程序
- **学生姓名**: 王海翔
- **学号**: 2021060187
- **班级**: 计科2203
- **完成时间**: 2025年6月

## 项目概述

本项目完整实现了L属性文法的语义分析功能，包括L属性文法的定义和解析、语义规则的执行、属性值的计算和传递、符号表的管理等核心功能。项目采用Python语言开发，提供了现代化的GUI界面和完善的功能模块。

## 功能特性

### 1. 核心功能

#### 1.1 L属性文法处理
- ✅ L属性文法的定义和解析
- ✅ 产生式的识别和存储
- ✅ 属性定义的解析（综合属性、继承属性）
- ✅ 语义规则的定义和管理
- ✅ L属性特性的验证

#### 1.2 语义分析引擎
- ✅ 属性值的计算和传递
- ✅ 语义动作的执行
- ✅ 符号表的管理和维护
- ✅ 分析步骤的详细记录
- ✅ 错误检测和报告

#### 1.3 语法分析集成
- ✅ 简单的词法分析器
- ✅ 模拟语法分析过程
- ✅ 语法分析与语义分析的协同工作

### 2. 用户界面

#### 2.1 多标签页设计
- **L属性文法输入**: 文法定义、解析和验证
- **语义分析过程**: 输入串分析、步骤展示
- **符号表管理**: 符号表查看、导出
- **使用帮助**: 详细的使用说明和示例

#### 2.2 交互功能
- ✅ 文法文件的加载和保存
- ✅ 实时的文法解析和验证
- ✅ 语义分析过程的可视化展示
- ✅ 分析步骤的详细信息查看
- ✅ 符号表的实时更新和导出

### 3. 技术特点

- ✅ 完全使用中文注释和界面
- ✅ 清晰的模块化设计
- ✅ 完善的错误处理机制
- ✅ 详细的分析过程记录
- ✅ 用户友好的操作界面

## 技术实现

### 数据结构设计

#### 核心类
- `L属性文法`: 文法的完整表示
- `文法符号`: 终结符和非终结符的统一表示
- `产生式`: 产生式的结构化存储
- `属性定义`: 属性的类型和特性定义
- `语义规则`: 语义动作的表示和执行
- `符号表`: 标识符信息的管理
- `语义分析引擎`: 语义分析的核心逻辑

#### 关键算法
- L属性文法解析算法
- L属性特性验证算法
- 属性值计算算法
- 语义动作执行算法
- 符号表管理算法

### 架构设计

```
L属性文法语义分析程序
├── 数据结构层
│   ├── 属性定义
│   ├── 文法符号
│   ├── 产生式
│   ├── 语义规则
│   └── 符号表
├── 解析层
│   ├── 文法解析器
│   └── 语义规则解析器
├── 分析层
│   ├── 语义分析引擎
│   └── 属性计算器
└── 界面层
    ├── 文法输入界面
    ├── 分析过程界面
    ├── 符号表界面
    └── 帮助界面
```

## 使用说明

### 1. 运行程序

#### 方式一：直接运行Python脚本
```bash
python l_attribute_main.py
```

#### 方式二：使用批处理脚本（Windows）
```bash
启动L属性文法语义分析器.bat
```

#### 方式三：运行可执行文件（如果已打包）
```bash
L属性文法语义分析器.exe
```

### 2. 文法定义格式

L属性文法文件采用特定的格式，包含三个主要部分：

#### [文法] 部分
```
D -> T L
T -> int | float | char
L -> L , id | id
```

#### [属性定义] 部分
```
T.type : 综合 字符串 "" "类型信息"
L.in : 继承 字符串 "" "继承的类型信息"
id.name : 综合 字符串 "" "标识符名称"
```

#### [语义规则] 部分
```
L.in := T.type
addtype(id.name, L.in)
```

### 3. 操作步骤

1. **文法输入**
   - 在"L属性文法输入"标签页中输入或加载文法定义
   - 点击"解析文法"按钮解析文法
   - 点击"验证L属性"按钮验证文法特性

2. **语义分析**
   - 在"语义分析过程"标签页中输入要分析的字符串
   - 点击"开始语义分析"执行分析
   - 查看分析步骤和详细信息

3. **符号表管理**
   - 在"符号表管理"标签页中查看符号表内容
   - 可以刷新、清空或导出符号表

## 测试用例

项目包含了完整的测试用例，涵盖：

- ✅ 基本类型声明测试
- ✅ 多变量声明测试
- ✅ 不同数据类型测试
- ✅ L属性特性验证测试
- ✅ 错误处理测试
- ✅ 边界条件测试
- ✅ 性能测试
- ✅ 集成测试

详细测试用例请参考 `test_cases.txt` 文件。

## 文件结构

```
L属性文法语义分析程序/
├── l_attribute_main.py          # 主程序文件
├── sample_grammar.txt           # 示例文法文件
├── test_cases.txt              # 测试用例文档
├── requirements.txt            # 依赖包列表
├── build_exe.py               # 打包脚本
├── 启动L属性文法语义分析器.bat  # 启动脚本
├── README.md                  # 项目说明文档
└── 作业要求.md                # 原始作业要求
```

## 系统要求

- **Python版本**: 3.7 或更高版本
- **操作系统**: Windows 7/8/10/11, macOS, Linux
- **内存**: 至少 512MB
- **磁盘空间**: 至少 100MB

## 依赖包

本程序主要使用Python标准库，无需安装额外的第三方包：

- tkinter (GUI界面)
- typing (类型注解)
- dataclasses (数据类)
- enum (枚举类型)
- re (正则表达式)
- json (JSON处理)
- os (操作系统接口)
- collections (集合类型)

## 打包说明

使用 `build_exe.py` 脚本可以将程序打包为独立的可执行文件：

```bash
python build_exe.py
```

打包后的文件将位于 `发布包` 目录中。

## 技术亮点

1. **完整的L属性文法支持**: 实现了L属性文法的完整定义、解析和验证
2. **可视化分析过程**: 提供了详细的语义分析步骤展示
3. **中文本地化**: 全中文界面和注释，符合中文用户习惯
4. **模块化设计**: 清晰的架构和良好的代码组织
5. **完善的错误处理**: 详细的错误信息和异常处理
6. **用户友好界面**: 直观的GUI设计和操作流程

## 作者信息

- **姓名**: 王海翔
- **学号**: 2021060187
- **班级**: 计科2203
- **邮箱**: [联系邮箱]
- **完成时间**: 2025年6月

## 许可证

本项目仅用于学术和教育目的，请勿用于商业用途。
